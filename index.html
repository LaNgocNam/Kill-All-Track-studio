<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>29YoungShinne Studio</title>

<style>
body {
    background:#0b0b0b;
    color:white;
    font-family:Arial;
    text-align:center;
}

.track {
    margin:25px;
    padding:20px;
    border:1px solid #333;
    border-radius:10px;
}

input[type=range] {
    width:250px;
}

button {
    background:#ff0055;
    color:white;
    border:none;
    padding:10px 20px;
    cursor:pointer;
    border-radius:5px;
}
</style>
</head>

<body>

<h1>ðŸŽ§ 29YoungShinne Online Studio</h1>
<p>BandLab Lite â€“ Free Web Mixer</p>

<div class="track">
    <input type="file" id="file" accept="audio/*">
    <br><br>

    Volume<br>
    <input type="range" id="volume" min="0" max="2" step="0.01" value="1">
</div>

<button onclick="stop()">Stop</button>

<script>
let ctx = new AudioContext();
let source, gainNode;

document.getElementById("file").onchange = async e => {
    const file = e.target.files[0];
    const buffer = await file.arrayBuffer();
    const audioBuffer = await ctx.decodeAudioData(buffer);

    source = ctx.createBufferSource();
    source.buffer = audioBuffer;

    gainNode = ctx.createGain();
    gainNode.gain.value = 1;

    source.connect(gainNode);
    gainNode.connect(ctx.destination);

    source.start();
};

document.getElementById("volume").oninput = e => {
    if (gainNode) gainNode.gain.value = e.target.value;
};

function stop(){
    if(source) source.stop();
}
</script>

</body>
</html>
